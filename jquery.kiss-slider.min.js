/*
	JQuery KissSlider plugin
	v1.1
	https://github.com/VivienLN/jquery.kiss-slider
*/
!function(e){e.fn.kissSlider=function(t){function n(){g=x.innerWidth(),p=0,m.each(function(){p=Math.max(p,e(this).outerHeight(!0))}),x.css("height",p)}function i(e){S||(S=setInterval(function(){s()},e))}function o(){clearInterval(S),S=null}function a(e,t,n){if(T||e==d)return!1;T=!0,e=Math.max(0,Math.min(e,m.length)),t=t||1;var i=m.eq(e),o=m.eq(d);if(u(w.beforeSlide,[d,e]),o.css("zIndex",w.startingZ+1),i.css("zIndex",w.startingZ+2).show(),m.not(i).not(o).hide(),n||w.noAnim)i.css("left",0),d=e,T=!1;else{var a=g*t,l=-g*t;i.css("left",a).add(o).animate({left:"+="+l},w.slideDuration,w.easing,function(){r(e)})}return!1}function r(e){T&&(u(w.afterSlide,[d,e]),d=e,T=!1)}function l(){var t=e(this).data("kissSliderTarget");if(isNaN(t))return!1;var n=t>d?1:-1;return a(t,n)}function s(){var e=d+1<m.length?d+1:0;return a(e,1)}function c(){var e=d-1>=0?d-1:m.length-1;return a(e,-1)}function u(e,t){return"function"==typeof e?e.apply(this,t):null}function f(e){console.log("touchstart"),console.log(e),D=e.changedTouches[0].pageX,I=e.changedTouches[0].pageY,y=(new Date).getTime()}function h(e){console.log("touchend");var t=(new Date).getTime()-y;if(k>=t){var n=e.changedTouches[0].pageX-D,i=e.changedTouches[0].pageY-I,o=Math.abs(n),a=Math.abs(i);o>M&&o*z/100>=a&&(0>n?s():c())}}var d,g,p,S,v={slideSelector:null,nextSelector:null,prevSelector:null,paginationSelector:null,paginationBefore:"",paginationAfter:"",paginationCurrentClass:"current",startIndex:0,startingZ:1,slideDuration:400,easing:"swing",autoscrollDelay:0,noAnim:!1,beforeSlide:null,afterSlide:null,init:null,allowSwipe:!0},w=e.extend({},v,t),x=this,m=w.slideSelector?e(w.slideSelector):x.children(),T=!1;if(m.css({position:"absolute",left:0,top:0,zIndex:w.startingZ}),x.css({position:"relative",overflow:"hidden"}),n(),m.css({width:"100%"}),w.paginationSelector){for(var b=0;b<m.length;b++)e(w.paginationBefore+'<button href="#">'+(b+1)+"</button>"+w.paginationAfter).appendTo(w.paginationSelector).data("kissSliderTarget",b);e("button",w.paginationSelector).click(l)}if(w.autoscrollDelay&&(i(w.autoscrollDelay),x.mouseenter(function(){o()}),x.mouseleave(function(){i(w.autoscrollDelay)})),e(window).resize(n),w.nextSelector&&e(w.nextSelector).click(s),w.prevSelector&&e(w.prevSelector).click(c),w.allowSwipe){var D,I,y,k=1e3,M=100,z=50;m.each(function(){this.addEventListener("touchstart",f,!1),this.addEventListener("touchend",h)})}return d=w.startIndex<m.length?w.startIndex:0,m.hide().eq(d).show(),u(w.init),this}}(jQuery);